<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Business E-Commerce</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-dark bg-dark mb-4">
    <div class="container">
        <a class="navbar-brand" href="#">Store</a>
        <div class="navbar-nav ms-auto">
            <a class="nav-link" href="/login">Log In</a>
        </div>
    </div>
</nav>

<div class="slider-container">
    <div class="slider-track" id="sliderTrack">
    </div>

    <button class="slider-btn prev-btn" onclick="prevSlide()">&#10094;</button>
    <button class="slider-btn next-btn" onclick="nextSlide()">&#10095;</button>
</div>

    <h2 class="my-4">Products</h2>
    <div class="row">
        <% products.forEach(product => { %>
            <div class="col-md-4 mb-4">
                <div class="card h-100 shadow-sm">
                    <div class="card-body">
                        <h5 class="card-title"><%= product.name %></h5>
                        <p class="h4 text-primary"><%= product.price %> $</p>

                        <div class="mt-3">
                            <label class="small">Adet:</label>
                            <input type="number"
                                   id="qty-<%= product.id %>"
                                   class="form-control mb-2"
                                   value="1"
                                   min="1"
                                   data-price="<%= product.price %>"
                                   oninput="updateTotal(this)">


                            <p id="total-display-<%= product.id %>" class="fw-bold text-success fs-5">
                                Total: <%= product.total %> $
                            </p>

                            <button class="btn btn-success w-100"
                                    data-name="<%= product.name %>"
                                    data-price="<%= product.price %>"
                                    data-id="<%= product.id %>"
                                    onclick="purchase(this)">
                                Buy
                            </button>

                        </div>
                    </div>
                </div>
            </div>
        <% }) %>
    </div>
</div>

<script src="/js/script.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>